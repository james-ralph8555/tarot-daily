@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
  background-color: #0E0F12;
  color: #F3E9DC;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: var(--font-sans), system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background-color: #0E0F12;
  background-image:
    radial-gradient(1200px 600px at 50% -10%, #131D33 0%, rgba(19, 29, 51, 0.78) 45%, rgba(14, 15, 18, 0.9) 70%),
    linear-gradient(135deg, rgba(106, 31, 27, 0.35), rgba(14, 15, 18, 0.92));
  color: #F3E9DC;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  position: relative;
  overflow-x: hidden;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.08'/%3E%3C/svg%3E");
  mix-blend-mode: soft-light;
  z-index: -1;
}

a {
  color: inherit;
  text-decoration: none;
}

button {
  font: inherit;
  background: transparent;
  border: none;
  cursor: pointer;
}

.card {
  position: relative;
  border-radius: 1.5rem;
  padding: 1.75rem;
  background: linear-gradient(145deg, rgba(27, 42, 74, 0.82), rgba(14, 15, 18, 0.92));
  border: 1px solid rgba(230, 199, 92, 0.12);
  backdrop-filter: blur(22px);
  box-shadow: 0 28px 60px rgba(11, 18, 33, 0.55);
}

.card::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  background: radial-gradient(circle at top, rgba(230, 199, 92, 0.08), transparent 55%);
  opacity: 0.8;
  pointer-events: none;
  mix-blend-mode: screen;
  z-index: -1;
}

.vellum {
  position: relative;
  isolation: isolate;
}

.vellum::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='320' height='200' viewBox='0 0 320 200'%3E%3Cdefs%3E%3CradialGradient id='g' cx='50%25' cy='35%25' r='85%25'%3E%3Cstop offset='0%25' stop-color='rgba(230,199,92,0.12)'/%3E%3Cstop offset='65%25' stop-color='rgba(195,164,102,0.06)'/%3E%3Cstop offset='100%25' stop-color='rgba(227,215,186,0.0)'/%3E%3C/radialGradient%3E%3Cfilter id='f'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3C/defs%3E%3Crect width='320' height='200' fill='url(%23g)'/%3E%3Crect width='320' height='200' filter='url(%23f)' opacity='.05'/%3E%3C/svg%3E");
  mix-blend-mode: multiply;
  opacity: 0.9;
  pointer-events: none;
  z-index: -1;
}

.reading-text:first-of-type::first-letter {
  font-family: var(--font-serif), serif;
  font-size: 3.2em;
  line-height: 0.8;
  float: left;
  padding-right: 0.08em;
  color: #E6C75C;
  text-shadow: 0 0 12px rgba(230, 199, 92, 0.25);
}

.reading-text:not(.placeholder-text):not(:empty) {
  animation: inkFlow 0.8s ease-out;
}

/* Prevent animations on placeholder text completely */
.reading-text.placeholder-text {
  animation: none !important;
  opacity: 1 !important;
}

/* Smooth transition for streaming content */
.reading-text {
  transition: opacity 0.3s ease-out;
}

@keyframes inkFlow {
  from {
    opacity: 0.4;
    filter: blur(0.5px);
    transform: translateY(1px);
  }
  to {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
  }
}

/* Gilded foliate scrollwork decorations */
.scrollwork-divider {
  position: relative;
  height: 50px;
  margin: 2rem 0;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.8;
}

.scrollwork-divider::before {
  content: "";
  position: absolute;
  left: 0;
  right: 45px;
  height: 2px;
  background: linear-gradient(90deg, transparent, rgba(230, 199, 92, 0.6), rgba(230, 199, 92, 0.8));
}

.scrollwork-divider::after {
  content: "";
  position: absolute;
  right: 0;
  left: 45px;
  height: 2px;
  background: linear-gradient(90deg, rgba(230, 199, 92, 0.8), rgba(230, 199, 92, 0.6), transparent);
}

.scrollwork-divider svg {
  position: relative;
  z-index: 1;
  filter: drop-shadow(0 0 8px rgba(230, 199, 92, 0.4));
}

.acanthus-divider {
  position: relative;
  height: 60px;
  margin: 2rem 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 60' width='600' height='60'%3E%3Cdefs%3E%3ClinearGradient id='gold' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23E6C75C'/%3E%3Cstop offset='50%25' stop-color='%23F1DE9A'/%3E%3Cstop offset='100%25' stop-color='%23E6C75C'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M0,30 Q30,15 60,30 Q90,45 120,30 Q150,15 180,30 Q210,45 240,30 Q270,15 300,30 Q330,45 360,30 Q390,15 420,30 Q450,45 480,30 Q510,15 540,30 Q570,45 600,30' stroke='url(%23gold)' stroke-width='2' fill='none' opacity='0.7'/%3E%3Cpath d='M15,30 Q25,20 35,30 Q45,40 55,30' stroke='url(%23gold)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M85,30 Q95,20 105,30 Q115,40 125,30' stroke='url(%23gold)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M155,30 Q165,20 175,30 Q185,40 195,30' stroke='url(%23gold)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M225,30 Q235,20 245,30 Q255,40 265,30' stroke='url(%23gold)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M295,30 Q305,20 315,30 Q325,40 335,30' stroke='url(%23gold)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M365,30 Q375,20 385,30 Q395,40 405,30' stroke='url(%23gold)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M435,30 Q445,20 455,30 Q465,40 475,30' stroke='url(%23gold)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M505,30 Q515,20 525,30 Q535,40 545,30' stroke='url(%23gold)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M575,30 Q585,20 595,30' stroke='url(%23gold)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Ccircle cx='300' cy='30' r='4' fill='url(%23gold)' opacity='0.9'/%3E%3Cpath d='M290,30 Q295,25 300,30 Q305,35 310,30' stroke='url(%23gold)' stroke-width='1' fill='none' opacity='0.7'/%3E%3C/svg%3E");
  background-repeat: repeat-x;
  background-position: center;
  opacity: 0.8;
}

.scrollwork-top {
  position: relative;
}

.scrollwork-top::before {
  content: "";
  position: absolute;
  top: -15px;
  left: 50%;
  transform: translateX(-50%);
  width: 300px;
  height: 40px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 40' width='300' height='40'%3E%3Cdefs%3E%3ClinearGradient id='gold2' x1='0%25' y1='0%25' x2='100%25' y2='0%25'%3E%3Cstop offset='0%25' stop-color='%23E6C75C'/%3E%3Cstop offset='50%25' stop-color='%23F1DE9A'/%3E%3Cstop offset='100%25' stop-color='%23E6C75C'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M0,20 Q37.5,8 75,20 Q112.5,32 150,20 Q187.5,8 225,20 Q262.5,32 300,20' stroke='url(%23gold2)' stroke-width='2' fill='none' opacity='0.7'/%3E%3Cpath d='M15,20 Q25,12 35,20 Q45,28 55,20 Q65,12 75,20' stroke='url(%23gold2)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M225,20 Q235,12 245,20 Q255,28 265,20 Q275,12 285,20' stroke='url(%23gold2)' stroke-width='1.5' fill='none' opacity='0.5'/%3E%3Cpath d='M140,20 Q145,15 150,20 Q155,25 160,20' stroke='url(%23gold2)' stroke-width='1' fill='none' opacity='0.6'/%3E%3Ccircle cx='150' cy='20' r='3' fill='url(%23gold2)' opacity='0.8'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  pointer-events: none;
  z-index: 10;
}

.scrollwork-corner {
  position: absolute;
  width: 80px;
  height: 80px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 80' width='80' height='80'%3E%3Cdefs%3E%3ClinearGradient id='gold3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23E6C75C'/%3E%3Cstop offset='50%25' stop-color='%23F1DE9A'/%3E%3Cstop offset='100%25' stop-color='%23E6C75C'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M5,5 Q20,12 30,25 Q35,18 45,25 Q55,12 70,5' stroke='url(%23gold3)' stroke-width='2' fill='none' opacity='0.8'/%3E%3Cpath d='M5,5 Q12,20 5,35' stroke='url(%23gold3)' stroke-width='1.5' fill='none' opacity='0.6'/%3E%3Cpath d='M10,10 Q15,15 20,10 Q25,15 30,10' stroke='url(%23gold3)' stroke-width='1' fill='none' opacity='0.5'/%3E%3Cpath d='M5,25 Q10,30 15,25 Q20,30 25,25' stroke='url(%23gold3)' stroke-width='1' fill='none' opacity='0.4'/%3E%3Ccircle cx='12' cy='12' r='2.5' fill='url(%23gold3)' opacity='0.7'/%3E%3Ccircle cx='25' cy='25' r='2' fill='url(%23gold3)' opacity='0.5'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  pointer-events: none;
}

.scrollwork-corner-left {
  left: 0;
  top: 0;
}

.scrollwork-corner-right {
  right: 0;
  top: 0;
  transform: scaleX(-1);
}

.foliate-border {
  position: relative;
  border: 1px solid rgba(230, 199, 92, 0.2);
  padding: 1rem;
}

.foliate-border::before,
.foliate-border::after {
  content: "";
  position: absolute;
  width: 40px;
  height: 40px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40' width='40' height='40'%3E%3Cdefs%3E%3ClinearGradient id='gold4' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23E6C75C'/%3E%3Cstop offset='50%25' stop-color='%23F1DE9A'/%3E%3Cstop offset='100%25' stop-color='%23E6C75C'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M5,5 Q12,10 20,5 Q28,10 35,5' stroke='url(%23gold4)' stroke-width='1.5' fill='none' opacity='0.7'/%3E%3Cpath d='M8,5 Q12,8 16,5 Q20,8 24,5 Q28,8 32,5' stroke='url(%23gold4)' stroke-width='1' fill='none' opacity='0.5'/%3E%3Ccircle cx='20' cy='5' r='2' fill='url(%23gold4)' opacity='0.8'/%3E%3Cpath d='M15,5 Q17,3 20,5 Q23,3 25,5' stroke='url(%23gold4)' stroke-width='0.8' fill='none' opacity='0.6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
}

.foliate-border::before {
  top: -15px;
  left: 50%;
  transform: translateX(-50%);
}

.foliate-border::after {
  bottom: -20px;
  left: 50%;
  transform: translateX(-50%) rotate(180deg);
}

.acanthus-border {
  position: relative;
  border: 2px solid rgba(230, 199, 92, 0.3);
  padding: 1.5rem;
  border-radius: 0.5rem;
}

.acanthus-border::before {
  content: "";
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' width='100' height='100'%3E%3Cdefs%3E%3ClinearGradient id='gold5' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23E6C75C'/%3E%3Cstop offset='50%25' stop-color='%23F1DE9A'/%3E%3Cstop offset='100%25' stop-color='%23E6C75C'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M10,10 Q20,5 30,10 Q40,15 50,10 Q60,5 70,10 Q80,15 90,10' stroke='url(%23gold5)' stroke-width='1' fill='none' opacity='0.6'/%3E%3Cpath d='M10,90 Q20,85 30,90 Q40,95 50,90 Q60,85 70,90 Q80,95 90,90' stroke='url(%23gold5)' stroke-width='1' fill='none' opacity='0.6'/%3E%3Cpath d='M10,10 Q5,20 10,30 Q15,40 10,50 Q5,60 10,70 Q15,80 10,90' stroke='url(%23gold5)' stroke-width='1' fill='none' opacity='0.6'/%3E%3Cpath d='M90,10 Q95,20 90,30 Q85,40 90,50 Q95,60 90,70 Q85,80 90,90' stroke='url(%23gold5)' stroke-width='1' fill='none' opacity='0.6'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 100px 100px;
  pointer-events: none;
  z-index: -1;
  opacity: 0.4;
}

.ornate-corner {
  position: absolute;
  width: 60px;
  height: 60px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 60' width='60' height='60'%3E%3Cdefs%3E%3ClinearGradient id='gold6' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23E6C75C'/%3E%3Cstop offset='50%25' stop-color='%23F1DE9A'/%3E%3Cstop offset='100%25' stop-color='%23E6C75C'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M5,5 Q15,8 25,5 Q35,8 45,5 Q55,8 55,15 Q52,25 55,35 Q52,45 55,55' stroke='url(%23gold6)' stroke-width='1.5' fill='none' opacity='0.7'/%3E%3Cpath d='M5,5 Q8,15 5,25 Q8,35 5,45 Q8,55 15,55' stroke='url(%23gold6)' stroke-width='1.5' fill='none' opacity='0.7'/%3E%3Ccircle cx='15' cy='15' r='2' fill='url(%23gold6)' opacity='0.6'/%3E%3Ccircle cx='45' cy='15' r='2' fill='url(%23gold6)' opacity='0.6'/%3E%3Ccircle cx='15' cy='45' r='2' fill='url(%23gold6)' opacity='0.6'/%3E%3Ccircle cx='45' cy='45' r='2' fill='url(%23gold6)' opacity='0.6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  pointer-events: none;
}

.ornate-corner-tl {
  top: -30px;
  left: -30px;
}

.ornate-corner-tr {
  top: -30px;
  right: -30px;
  transform: scaleX(-1);
}

.ornate-corner-bl {
  bottom: -30px;
  left: -30px;
  transform: scaleY(-1);
}

.ornate-corner-br {
  bottom: -30px;
  right: -30px;
  transform: scale(-1);
}

/* Smooth fade-in for reading content */
.reading-content {
  transition: all 0.4s ease-out;
}

/* Don't animate initial load */
.reading-content:not(:has(.placeholder-text)) {
  animation: none;
}

/* Content transition animation */
.reading-content:has(.reading-text:not(.placeholder-text):not(:empty)) {
  animation: fadeInContent 0.6s ease-out;
}

@keyframes fadeInContent {
  from {
    opacity: 0.9;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .reading-text,
  .reading-text *,
  .reading-content {
    animation: none !important;
    transition: none !important;
  }
}
